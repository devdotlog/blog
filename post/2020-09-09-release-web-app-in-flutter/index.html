<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Flutter로 개발한 Web App을 Release 모드로 테스트하기 </title>
  <meta name="description" content="뭐라도 좀 적고, 써야 남지 않을까? / Site Project 정리용.">
  <meta name="naver-site-verification" content="bcf371eb4e5b9977f8fcc0116a87d622e88abb85" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Flutter로 개발한 Web App을 Release 모드로 테스트하기" />
<meta property="og:description" content="Flutter를 이용하여 Web App을 개발했다면, 서버에 Deploy 하기 전에 Release 상태로 테스트를 진행해야 합니다.
테스트는 아래와 같은 순서로 진행합니다.
 Web App을 Release 모드로 build Web Server 실행 테스트  Release 모드로 build 대상 프로젝트로 이동하고 command 라인에서 다음 명령을 실행하여 빌드합니다.
$ flutter build web 정상적으로 빌드가 되었다면 프로젝트 폴더 내에 프로젝트폴더/build/web 디렉토리에 index.html 파일을 포함한 release 파일들이 생성된 것을 확인할 수 있습니다.
Web Server 실행 빌드된 소스는 정적 웹페이지 리소스입니다." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sh0seo.github.io/post/2020-09-09-release-web-app-in-flutter/" />
<meta property="article:published_time" content="2020-09-09T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-09-09T00:00:00+00:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Flutter로 개발한 Web App을 Release 모드로 테스트하기"/>
<meta name="twitter:description" content="Flutter를 이용하여 Web App을 개발했다면, 서버에 Deploy 하기 전에 Release 상태로 테스트를 진행해야 합니다.
테스트는 아래와 같은 순서로 진행합니다.
 Web App을 Release 모드로 build Web Server 실행 테스트  Release 모드로 build 대상 프로젝트로 이동하고 command 라인에서 다음 명령을 실행하여 빌드합니다.
$ flutter build web 정상적으로 빌드가 되었다면 프로젝트 폴더 내에 프로젝트폴더/build/web 디렉토리에 index.html 파일을 포함한 release 파일들이 생성된 것을 확인할 수 있습니다.
Web Server 실행 빌드된 소스는 정적 웹페이지 리소스입니다."/>

  
  
  
  <link rel="stylesheet" href="https://sh0seo.github.io/css/style-white.css">
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://sh0seo.github.io/images/favicon.ico" />

  
</head>
<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

    <header id="header">
  <a href="https://sh0seo.github.io/">
  
    <div id="logo" style="background-image: url(https://sh0seo.github.io/images/logo.png)"></div>
  
  <div id="title">
    <h1>my side projects</h1>
  </div>
  </a>
  <div id="nav">
    <ul>
      <li class="icon">
        <a href="#"><i class="fas fa-bars fa-2x"></i></a>
      </li>
       
        <li><a href="/">posts</a></li>
       
        <li><a href="/about/">about</a></li>
      
    </ul>
  </div>
</header>
  

    
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <div class="content" itemprop="articleBody">
  
    <p><img src="https://sh0seo.github.io/img/release.png" alt="release"></p>
<p>Flutter를 이용하여 Web App을 개발했다면, 서버에 Deploy 하기 전에 Release 상태로 테스트를 진행해야 합니다.</p>
<p>테스트는 아래와 같은 순서로 진행합니다.</p>
<ol>
<li>Web App을 Release 모드로 build</li>
<li>Web Server 실행</li>
<li>테스트</li>
</ol>
<h2 id="release-모드로-build">Release 모드로 build</h2>
<p>대상 프로젝트로 이동하고 command 라인에서 다음 명령을 실행하여 빌드합니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ flutter build web
</code></pre></div><p>정상적으로 빌드가 되었다면 프로젝트 폴더 내에 <code>프로젝트폴더/build/web</code> 디렉토리에 index.html 파일을 포함한 release 파일들이 생성된 것을 확인할 수 있습니다.</p>
<p><img src="https://sh0seo.github.io/img/release-web.png" alt="release-web"></p>
<h2 id="web-server-실행">Web Server 실행</h2>
<p>빌드된 소스는 정적 웹페이지 리소스입니다. apache, nginx 등의 웹 서버가 설치되어 있다면 로컬에서 바로 실행하여 테스트가 가능합니다.
하지만 별도의 웹 서버 없이 go 혹은 python을 이용하여 손쉽게 이용이 가능합니다.</p>
<h3 id="python-웹서버">python 웹서버</h3>
<p>미리 빌드한 build/web 디렉토리로 이동하여 아래와 같이 실행하면 <code>127.0.0.1:8080</code> 주소로 브라우저에서 확인이 가능합니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ python -m http.server --bind 127.0.0.1 <span style="color:#ae81ff">8080</span>
</code></pre></div><h3 id="go를-이용한-웹서버">go를 이용한 웹서버</h3>
<p>go는 정적파일 웹서버를 구동하기 위해 심플한 코딩이 필요합니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// main.go
</span><span style="color:#75715e"></span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;net/http&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
  <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">Handle</span>(<span style="color:#e6db74">&#34;/&#34;</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">FileServer</span>(<span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">Dir</span>(<span style="color:#e6db74">&#34;./&#34;</span>)))
  <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">ListenAndServe</span>(<span style="color:#e6db74">&#34;:8080&#34;</span>, <span style="color:#66d9ef">nil</span>)
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ go run main.go
</code></pre></div><h2 id="release-소스를-deploy-없이-테스트">Release 소스를 Deploy 없이 테스트</h2>
<p>aws, google cloud, cafe24와 같은 웹 호스팅 계정이 있다면 테스트가 끝난 소스를 업로드하여 public 환경에서 테스트가 가능합니다. 하지만 그런 여건이 되지 않는다면 로컬 환경에서 구동된 상태로 외부에 공개할 수 있는 방법이 있습니다.</p>
<p><a href="https://ngrok.com/">ngrok</a> 서비스를 이용하면 로컬 서버를 public ip로 공개하여 누구나 사용할 수 있습니다. 무료만으로도 사용은 가능하지만 속도가 느리고 동시에 접속이 불가능한 점이 있지만, 급하게 시연을 하거나 개발 결과를 보고하기 위한 용도 정도를 사용이 가능합니다. ngrok은 go 언어를 이용하여 개발된 서비스로 windows, linux, macos 어떤 환경에서든 동일하게 사용이 가능합니다.</p>
<p>go(혹은 python)으로 구동 중인 로컬의 서버의 주소는 <code>127.0.0.1:8080</code> 라고 하면, ngrok 으로 아래와 같이 command에서 실행합니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ ngrok http <span style="color:#ae81ff">8080</span>
</code></pre></div><p>ngrok이 실행되면 임시 URL이 화면에 출력됩니다. 해당 URL로 접속하면 로컬의 8080 서버로 http 요청을 전달해주게 됩니다.</p>
<p><img src="https://sh0seo.github.io/img/release-ngrok-result.png" alt="release-ngrok"></p>
<h2 id="참조">참조</h2>
<ul>
<li><a href="https://flutter.dev/docs/deployment/web#building-the-app-for-release">flutter의 공식 페이지 가이드</a></li>
<li><a href="https://ngrok.com/">ngrok 홈페이지</a></li>
</ul>

  
  </div>
</article>


    <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2020  my side projects 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">posts</a></li>
         
        <li><a href="/about/">about</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
  
    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-156450601-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
  
</body>

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/js/main.js"></script>
</html>
